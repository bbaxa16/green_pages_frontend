<!DOCTYPE html>
<html ng-app='green-pages'>
<head>
    <meta charset="utf-8">
    <!-- style -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css" rel="stylesheet">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

    <link rel="stylesheet" href="./css/main.css">
    <!-- script -->
    <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script src="https://use.fontawesome.com/af5dc9ce4b.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.5/angular.min.js" charset="utf-8"></script>
    <script src="./js/dom.js" charset="utf-8"></script>
    <script src="./js/app.js" charset="utf-8"></script>
    <title>green pages</title>
    <link rel='icon' href='./css/assets/gplogog.png'>
  </head>
  <body ng-controller="userController as user">
    <!-- navbar -->
    <nav class="navbar navbar-inverse navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <div class="site-nav">
          <a href="#" class="navbar-brand img-responsive" ng-click="user.phoneHome()"><img class="logo" src="./css/assets/greenpages2.png"/></a>

          <ul class="nav navbar-right">
            <li class="nav-btn" ng-hide='user.logged'ng-click="user.toggleLogin()">login</li>
            <li class="nav-btn" ng-hide='user.logged' ng-click="user.toggleRegister()">register</li>
            <li class="nav-btn" ng-show="user.logged"  ng-click='user.toggleUser(); user.setUser(user.id)'>
              <i class="fa fa-user-o" aria-hidden="true"></i>
            </li>
            <li class="nav-btn" ng-show="user.logged" ng-click="user.logout()">logout</li>
          </ul>
        </div>
      </div>
    </nav>
    <!--Login Modal -->
    <div id='loginmodal' ng-if='user.loginDisplay'>
      <div class='modal-dialog' role='document'>
        <div class='modal-content'>
          <div class='modal-header'>
            <!-- Close Button -->
              <span class="text-top"><button class='btn btn-default' id='closebtn' ng-click='user.toggleLogin()'>X</button></span>
              <div class='modal-body'>
                <div class="container text-center" ng-if="user.loginDisplay">
                  <form ng-submit="user.login(userJWT)">
                    <input type="text" ng-model="userJWT.username" placeholder="username"></br>
                    <input type="password" ng-model="userJWT.password" placeholder="password"><br/>
                    <button class="btn btn-primary" type="submit" name="button">Login</button>
                  </form>
                  <h5 class='text-danger'>{{user.error}}</h5>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Register Modal -->
    <div id='registermodal' ng-if='user.registerDisplay'>
      <div class='modal-dialog' role='document'>
        <div class='modal-content'>
          <div class='modal-header'>
            <!-- Close Button -->
              <span class="text-top"><button class='btn btn-default' id='closebtn' ng-click='user.toggleRegister()'>X</button></span>
              <div class='modal-body'>
                <div class="container text-center">
                  <form ng-submit="user.register(userRegister)">
                    <input type="text" ng-model="userRegister.username" placeholder="username">
                    <input type="password" ng-model="userRegister.password" placeholder="password">
                    <button class="btn btn-primary" type="submit">Register</button>
                  </form>
                  <h5 class='text-danger'>{{user.nope}}</h5>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- determines show page for landing -->
    <section ng-if="user.userDisplay === false;">
      <!-- header -->
      <header>
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img class="d-block w-100 img_responsive" src="https://www.marijuana.com/wp-content/uploads/2017/01/blackbeauty-3-1024x663.jpg" alt="First slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 img_responsive" src="https://www.marijuana.com/wp-content/uploads/2016/10/tko_gorilla_glue_4.jpg" alt="Second slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 img_responsive" src="https://www.marijuana.com/wp-content/uploads/2016/10/d45812717867fc6e464ca49fab45b595-1024x976.jpg" alt="Third slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 img_responsive" src="https://www.marijuana.com/wp-content/uploads/2016/09/facewreck-1024x877.jpg" alt="Fourth slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 img_responsive" src="https://www.marijuana.com/wp-content/uploads/2016/09/dedbd4087f76e9523ca3ed360dddc999-1024x684.jpg" alt="Fifth slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 img_responsive" src="https://www.marijuana.com/wp-content/uploads/2016/08/Grape-Krush-1024x682.jpg" alt="Sixth slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 img_responsive" src="https://www.marijuana.com/wp-content/uploads/2016/08/strawberry-cough-800x533.jpg" alt="Seventh slide">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
    </header>


    <!--Divs with all the strains-->
  <section ng-controller='strainController as strain' class="strains">
    <div ng-click="strain.getCurrentStrain(w.id); user.setUser(user.id)" ng-repeat='w in strain.weed' class="eachStrain thumbnail">
      <img src="{{w.img}}" class="strainImg"/>
      <div ng-if="!user.logged"><br/></div>
      <form ng-if="user.logged" ng-submit="strain.addToFavorites(user.id, strain.currentStrain.id)">
        <button type="submit" class="btn btn-lg">
          <span class="glyphicon glyphicon-heart" aria-hidden="true">
          </span>
        </button>
      </form>
      {{w.name}}
        <br/>
      {{w.group}}
      <!-- <div ng-click="strain.favorite()">[favorite this]</div> -->
    </div>
  </section>

  <div ng-click="user.getFavorites()">CLICK ME FOR LEDGERS</div>
  </section> <!-- end of landing page -->
      <!-- <section ng-include="'./forms.html'"></section> -->
  <section ng-include="'./user.html'" ng-if="user.userDisplay"></section>
  </body>
  <footer class="footer">
    <div class="container">
      <p>Made with &hearts; by Brooke Baxa and James Joo</p>
    </div>
  </footer>
</html>
